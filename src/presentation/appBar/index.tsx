/** @jsxRuntime classic */
/** @jsx jsx */
import { css, jsx } from "@emotion/react";
import { appColor } from "../style/appColor";
import { appDimen } from "../style/appDimen";
import { dispatch } from "../../infrastructure/zustand/appStore";
import { toggleShouldShowInstruments } from "../../infrastructure/zustand/uiState/action";
import { useShouldShowInstruments } from "../../infrastructure/zustand/uiState/selector";
import { Icon } from "../common/icon";

const styles = {
  root: css({
    alignItems: "center",
    backgroundColor: appColor.background,
    display: "flex",
    height: appDimen.appBarHeight,
    position: "sticky",
    top: 0,
    zIndex: 1,
  }),
  instrumentsMenuIcon: (isSelected: boolean) =>
    css({
      backgroundColor: isSelected ? appColor.selected(appColor.background) : "",
    }),
  title: css({
    flexGrow: 1,
    padding: "8px",
  }),
};

export const AppBar = () => {
  return (
    <header css={styles.root}>
      <InstrumentsMenuIcon />
      <span css={styles.title}>Sound Ranges</span>
      <LanguageIcon />
      <SettingsIcon />
    </header>
  );
};

const InstrumentsMenuIcon = () => {
  const shouldShowInstruments = useShouldShowInstruments();
  const handleClick = () => {
    dispatch(toggleShouldShowInstruments());
  };

  return (
    <Icon
      onClick={handleClick}
      css={styles.instrumentsMenuIcon(shouldShowInstruments)}
    >
      <path
        d="M16.7006 20.7919C15.8672 20.7919 15.1589 20.5003 14.5756 19.9169C13.9922 19.3336 13.7006 18.6253 13.7006 17.7919C13.7006 16.9586 13.9922 16.2503 14.5756 15.6669C15.1589 15.0836 15.8672 14.7919 16.7006 14.7919C16.8839 14.7919 17.0589 14.8044 17.2256 14.8294C17.3922 14.8544 17.5506 14.9086 17.7006 14.9919V6.79193H22.7006V8.79193H19.7006V17.7919C19.7006 18.6253 19.4089 19.3336 18.8256 19.9169C18.2422 20.5003 17.5339 20.7919 16.7006 20.7919ZM3.70056 16.7919V14.7919H11.7006V16.7919H3.70056ZM3.70056 12.7919V10.7919H15.7006V12.7919H3.70056ZM3.70056 8.79193V6.79193H15.7006V8.79193H3.70056Z"
        fill={appColor.onBackground}
      />
    </Icon>
  );
};

const LanguageIcon = () => {
  const handleClick = () => {};
  return (
    <Icon onClick={handleClick}>
      <path
        d="M12 22C10.6333 22 9.34167 21.7375 8.125 21.2125C6.90833 20.6875 5.84583 19.9708 4.9375 19.0625C4.02917 18.1542 3.3125 17.0917 2.7875 15.875C2.2625 14.6583 2 13.3667 2 12C2 10.6167 2.2625 9.32083 2.7875 8.1125C3.3125 6.90417 4.02917 5.84583 4.9375 4.9375C5.84583 4.02917 6.90833 3.3125 8.125 2.7875C9.34167 2.2625 10.6333 2 12 2C13.3833 2 14.6792 2.2625 15.8875 2.7875C17.0958 3.3125 18.1542 4.02917 19.0625 4.9375C19.9708 5.84583 20.6875 6.90417 21.2125 8.1125C21.7375 9.32083 22 10.6167 22 12C22 13.3667 21.7375 14.6583 21.2125 15.875C20.6875 17.0917 19.9708 18.1542 19.0625 19.0625C18.1542 19.9708 17.0958 20.6875 15.8875 21.2125C14.6792 21.7375 13.3833 22 12 22ZM12 19.95C12.4333 19.35 12.8083 18.725 13.125 18.075C13.4417 17.425 13.7 16.7333 13.9 16H10.1C10.3 16.7333 10.5583 17.425 10.875 18.075C11.1917 18.725 11.5667 19.35 12 19.95ZM9.4 19.55C9.1 19 8.8375 18.4292 8.6125 17.8375C8.3875 17.2458 8.2 16.6333 8.05 16H5.1C5.58333 16.8333 6.1875 17.5583 6.9125 18.175C7.6375 18.7917 8.46667 19.25 9.4 19.55ZM14.6 19.55C15.5333 19.25 16.3625 18.7917 17.0875 18.175C17.8125 17.5583 18.4167 16.8333 18.9 16H15.95C15.8 16.6333 15.6125 17.2458 15.3875 17.8375C15.1625 18.4292 14.9 19 14.6 19.55ZM4.25 14H7.65C7.6 13.6667 7.5625 13.3375 7.5375 13.0125C7.5125 12.6875 7.5 12.35 7.5 12C7.5 11.65 7.5125 11.3125 7.5375 10.9875C7.5625 10.6625 7.6 10.3333 7.65 10H4.25C4.16667 10.3333 4.10417 10.6625 4.0625 10.9875C4.02083 11.3125 4 11.65 4 12C4 12.35 4.02083 12.6875 4.0625 13.0125C4.10417 13.3375 4.16667 13.6667 4.25 14ZM9.65 14H14.35C14.4 13.6667 14.4375 13.3375 14.4625 13.0125C14.4875 12.6875 14.5 12.35 14.5 12C14.5 11.65 14.4875 11.3125 14.4625 10.9875C14.4375 10.6625 14.4 10.3333 14.35 10H9.65C9.6 10.3333 9.5625 10.6625 9.5375 10.9875C9.5125 11.3125 9.5 11.65 9.5 12C9.5 12.35 9.5125 12.6875 9.5375 13.0125C9.5625 13.3375 9.6 13.6667 9.65 14ZM16.35 14H19.75C19.8333 13.6667 19.8958 13.3375 19.9375 13.0125C19.9792 12.6875 20 12.35 20 12C20 11.65 19.9792 11.3125 19.9375 10.9875C19.8958 10.6625 19.8333 10.3333 19.75 10H16.35C16.4 10.3333 16.4375 10.6625 16.4625 10.9875C16.4875 11.3125 16.5 11.65 16.5 12C16.5 12.35 16.4875 12.6875 16.4625 13.0125C16.4375 13.3375 16.4 13.6667 16.35 14ZM15.95 8H18.9C18.4167 7.16667 17.8125 6.44167 17.0875 5.825C16.3625 5.20833 15.5333 4.75 14.6 4.45C14.9 5 15.1625 5.57083 15.3875 6.1625C15.6125 6.75417 15.8 7.36667 15.95 8ZM10.1 8H13.9C13.7 7.26667 13.4417 6.575 13.125 5.925C12.8083 5.275 12.4333 4.65 12 4.05C11.5667 4.65 11.1917 5.275 10.875 5.925C10.5583 6.575 10.3 7.26667 10.1 8ZM5.1 8H8.05C8.2 7.36667 8.3875 6.75417 8.6125 6.1625C8.8375 5.57083 9.1 5 9.4 4.45C8.46667 4.75 7.6375 5.20833 6.9125 5.825C6.1875 6.44167 5.58333 7.16667 5.1 8Z"
        fill={appColor.onBackground}
      />
    </Icon>
  );
};

const SettingsIcon = () => {
  const handleClick = () => {};
  return (
    <Icon onClick={handleClick}>
      <path
        d="M9.33711 22.0913L8.93711 18.8913C8.72044 18.808 8.51628 18.708 8.32461 18.5913C8.13294 18.4747 7.94544 18.3497 7.76211 18.2163L4.78711 19.4663L2.03711 14.7163L4.61211 12.7663C4.59544 12.6497 4.58711 12.5372 4.58711 12.4288V11.7538C4.58711 11.6455 4.59544 11.533 4.61211 11.4163L2.03711 9.46634L4.78711 4.71634L7.76211 5.96634C7.94544 5.83301 8.13711 5.70801 8.33711 5.59134C8.53711 5.47467 8.73711 5.37467 8.93711 5.29134L9.33711 2.09134H14.8371L15.2371 5.29134C15.4538 5.37467 15.6579 5.47467 15.8496 5.59134C16.0413 5.70801 16.2288 5.83301 16.4121 5.96634L19.3871 4.71634L22.1371 9.46634L19.5621 11.4163C19.5788 11.533 19.5871 11.6455 19.5871 11.7538V12.4288C19.5871 12.5372 19.5704 12.6497 19.5371 12.7663L22.1121 14.7163L19.3621 19.4663L16.4121 18.2163C16.2288 18.3497 16.0371 18.4747 15.8371 18.5913C15.6371 18.708 15.4371 18.808 15.2371 18.8913L14.8371 22.0913H9.33711ZM11.0871 20.0913H13.0621L13.4121 17.4413C13.9288 17.308 14.4079 17.1122 14.8496 16.8538C15.2913 16.5955 15.6954 16.283 16.0621 15.9163L18.5371 16.9413L19.5121 15.2413L17.3621 13.6163C17.4454 13.383 17.5038 13.1372 17.5371 12.8788C17.5704 12.6205 17.5871 12.358 17.5871 12.0913C17.5871 11.8247 17.5704 11.5622 17.5371 11.3038C17.5038 11.0455 17.4454 10.7997 17.3621 10.5663L19.5121 8.94134L18.5371 7.24134L16.0621 8.29134C15.6954 7.90801 15.2913 7.58717 14.8496 7.32884C14.4079 7.07051 13.9288 6.87467 13.4121 6.74134L13.0871 4.09134H11.1121L10.7621 6.74134C10.2454 6.87467 9.76628 7.07051 9.32461 7.32884C8.88294 7.58717 8.47878 7.89967 8.11211 8.26634L5.63711 7.24134L4.66211 8.94134L6.81211 10.5413C6.72878 10.7913 6.67044 11.0413 6.63711 11.2913C6.60378 11.5413 6.58711 11.808 6.58711 12.0913C6.58711 12.358 6.60378 12.6163 6.63711 12.8663C6.67044 13.1163 6.72878 13.3663 6.81211 13.6163L4.66211 15.2413L5.63711 16.9413L8.11211 15.8913C8.47878 16.2747 8.88294 16.5955 9.32461 16.8538C9.76628 17.1122 10.2454 17.308 10.7621 17.4413L11.0871 20.0913ZM12.1371 15.5913C13.1038 15.5913 13.9288 15.2497 14.6121 14.5663C15.2954 13.883 15.6371 13.058 15.6371 12.0913C15.6371 11.1247 15.2954 10.2997 14.6121 9.61634C13.9288 8.93301 13.1038 8.59134 12.1371 8.59134C11.1538 8.59134 10.3246 8.93301 9.64961 9.61634C8.97461 10.2997 8.63711 11.1247 8.63711 12.0913C8.63711 13.058 8.97461 13.883 9.64961 14.5663C10.3246 15.2497 11.1538 15.5913 12.1371 15.5913Z"
        fill={appColor.onBackground}
      />
    </Icon>
  );
};
